#define MED_HAR(X, Y) ~(((~X) + (~Y)) / 2)